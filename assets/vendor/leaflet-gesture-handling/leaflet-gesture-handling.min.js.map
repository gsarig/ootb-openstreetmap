{"version":3,"file":"leaflet-gesture-handling.min.js","sources":["../src/locales/en.js","../src/index.js"],"sourcesContent":["//English\nexport default {\n\ttouch: \"Use two fingers to move the map\",\n\tscroll: \"Use ctrl + scroll to zoom the map\",\n\tscrollMac: \"Use \\u2318 + scroll to zoom the map\"\n};\n","import defaultLocale from \"./locales/en.js\";\n\n// Prevent CORS issues for relative locations (dynamic import)\nconst baseURL = ((document.currentScript && document.currentScript.src) || (import.meta && import.meta.url)).split(\"/\").slice(0,-1).join(\"/\") + '/';\n\nvar draggingMap = false;\nvar gestureHandlingOptions = {\n\ttext: {},\n\tduration: 1700\n};\n\nexport var GestureHandling = L.Handler.extend({\n\n\t_isScrolling: false,\n\t_isTouching: false,\n\t_isFading: false,\n\n\taddHooks: function() {\n\t\tthis._handleTouch = L.bind(this._handleTouch, this);\n\n\t\tthis._setGestureHandlingOptions();\n\t\tthis._disableInteractions();\n\n\t\t// Prevent touch events\n\t\tif (L.version >= \"1.8\") {\n\t\t\tL.DomEvent.on(this._map._container, \"touchstart\", this._handleTouch, this);\n\t\t\tL.DomEvent.on(this._map._container, \"touchmove\", this._handleTouch, this);\n\t\t\tL.DomEvent.on(this._map._container, \"touchend\", this._handleTouch, this);\n\t\t\tL.DomEvent.on(this._map._container, \"touchcancel\", this._handleTouch, this);\n\t\t\tL.DomEvent.on(this._map._container, \"click\", this._handleTouch, this);\n\t\t} else {\n\t\t\t//Uses native event listeners instead of L.DomEvent due to issues with Android touch events turning into pointer events\n\t\t\tthis._map._container.addEventListener(\"touchstart\", this._handleTouch);\n\t\t\tthis._map._container.addEventListener(\"touchmove\", this._handleTouch);\n\t\t\tthis._map._container.addEventListener(\"touchend\", this._handleTouch);\n\t\t\tthis._map._container.addEventListener(\"touchcancel\", this._handleTouch);\n\t\t\tthis._map._container.addEventListener(\"click\", this._handleTouch);\n\t\t}\n\n\t\tL.DomEvent.on(this._map._container, \"wheel\", this._handleScroll, this);\n\t\tL.DomEvent.on(this._map._container, \"mouseenter\", this._handleMouseOver, this);\n\t\tL.DomEvent.on(this._map._container, \"mouseleave\", this._handleMouseOut, this);\n\n\t\t// Listen to these events so will not disable dragging if the user moves the mouse out the boundary of the map container whilst actively dragging the map.\n\t\tL.DomEvent.on(this._map, \"movestart\", this._handleDragging, this);\n\t\tL.DomEvent.on(this._map, \"move\", this._handleDragging, this);\n\t\tL.DomEvent.on(this._map, \"moveend\", this._handleDragging, this);\n\n\t\t// Prevent page scroll on \"leaflet-popup-content\"\n\t\tthis._map.on(\"popupopen\", this._handleScrollOnPopup, this);\n\t\tthis._map.on(\"popupclose\", this._handleScrollOnPopup, this);\n\n\t\t// Reset any previously added fullscreen events\n\t\tL.DomEvent.off(this._map, \"enterFullscreen\", this._onEnterFullscreen, this);\n\t\tL.DomEvent.off(this._map, \"exitFullscreen\", this._onExitFullscreen, this);\n\t\tL.DomEvent.on(this._map, \"enterFullscreen\", this._onEnterFullscreen, this);\n\t\tL.DomEvent.on(this._map, \"exitFullscreen\", this._onExitFullscreen, this);\n\n\t\tL.DomUtil.addClass(this._map._container, \"leaflet-gesture-handling\");\n\t},\n\n\tremoveHooks: function() {\n\t\tthis._enableInteractions();\n\n\t\tif (L.version >= \"1.8\") {\n\t\t\tL.DomEvent.off(this._map._container, \"touchstart\", this._handleTouch, this);\n\t\t\tL.DomEvent.off(this._map._container, \"touchmove\", this._handleTouch, this);\n\t\t\tL.DomEvent.off(this._map._container, \"touchend\", this._handleTouch, this);\n\t\t\tL.DomEvent.off(this._map._container, \"touchcancel\", this._handleTouch, this);\n\t\t\tL.DomEvent.off(this._map._container, \"click\", this._handleTouch, this);\n\t\t} else {\n\t\t\tthis._map._container.removeEventListener(\"touchstart\", this._handleTouch);\n\t\t\tthis._map._container.removeEventListener(\"touchmove\", this._handleTouch);\n\t\t\tthis._map._container.removeEventListener(\"touchend\", this._handleTouch);\n\t\t\tthis._map._container.removeEventListener(\"touchcancel\", this._handleTouch);\n\t\t\tthis._map._container.removeEventListener(\"click\", this._handleTouch);\n\t\t}\n\n\t\tL.DomEvent.off(this._map._container, \"wheel\", this._handleScroll, this);\n\t\tL.DomEvent.off(this._map._container, \"mouseenter\", this._handleMouseOver, this);\n\t\tL.DomEvent.off(this._map._container, \"mouseleave\", this._handleMouseOut, this);\n\n\t\tL.DomEvent.off(this._map, \"movestart\", this._handleDragging, this);\n\t\tL.DomEvent.off(this._map, \"move\", this._handleDragging, this);\n\t\tL.DomEvent.off(this._map, \"moveend\", this._handleDragging, this);\n\n\t\tthis._map.off(\"popupopen\", this._handleScrollOnPopup, this);\n\t\tthis._map.off(\"popupclose\", this._handleScrollOnPopup, this);\n\n\t\tL.DomUtil.removeClass(this._map._container, \"leaflet-gesture-handling\");\n\t},\n\n\t_handleDragging: function(e) {\n\t\tif (e.type == \"movestart\" || e.type == \"move\") {\n\t\t\tdraggingMap = true;\n\t\t} else if (e.type == \"moveend\") {\n\t\t\tdraggingMap = false;\n\t\t}\n\t},\n\n\t_disableInteraction: function(name) {\n\t\t// disable the handler only if related option is true\n\t\tif (this._map.options[name] && this._map[name]) {\n\t\t\tthis._map[name].disable();\n\t\t}\n\t},\n\n\t_enableInteraction: function(name) {\n\t\t// enable the handler only if related option is true\n\t\tif (this._map.options[name] && this._map[name]) {\n\t\t\tthis._map[name].enable();\n\t\t}\n\t},\n\n\t_disableInteractions: function() {\n\t\tthis._disableInteraction('dragging');\n\t\tthis._disableInteraction('scrollWheelZoom');\n\t\tthis._disableInteraction('tap');\n\t},\n\n\t_enableInteractions: function() {\n\t\tthis._enableInteraction('dragging');\n\t\tthis._enableInteraction('scrollWheelZoom');\n\t\tthis._enableInteraction('tap');\n\t},\n\n\t_enableWarning: function(gesture) {\n\t\tclearTimeout(this._isFading);\n\t\tL.DomUtil.addClass(this._map._container, \"leaflet-gesture-handling-\" + gesture);\n\t\tL.DomUtil.addClass(this._map._container, \"leaflet-gesture-handling-warning\");\n\t},\n\n\t_disableWarning: function(gesture, delay) {\n\t\tclearTimeout(this._isFading);\n\t\tthis._isFading = setTimeout(\n\t\t\tL.bind(function(gesture) {\n\t\t\t\tL.DomUtil.removeClass(this._map._container, \"leaflet-gesture-handling-\" + gesture);\n\t\t\t}, this, gesture),\n\t\t\tdelay || this._map.options.gestureHandlingOptions.duration\n\t\t);\n\t\tL.DomUtil.removeClass(this._map._container, \"leaflet-gesture-handling-warning\");\n\t},\n\n\t_isLanguageContent: function(text) {\n\t\treturn text && text.touch && text.scroll && text.scrollMac;\n\t},\n\n\t_isMacUser: function() {\n\t\treturn navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0;\n\t},\n\n\t_parseGestureHandlingOptions: function() {\n\t\tvar text = this._map.options.gestureHandlingOptions.text || this._map.options.gestureHandlingText || gestureHandlingOptions.text;\n\t\tvar duration = this._map.options.gestureHandlingOptions.duration || this._map.options.gestureHandlingDuration || gestureHandlingOptions.duration;\n\t\tvar options = L.extend(this._map.options.gestureHandlingOptions, gestureHandlingOptions);\n\t\t// Merge default gestureHandlingOptions into the new options object\n\t\toptions.text = text;\n\t\toptions.duration = duration;\n\t\treturn options;\n\t},\n\n\t_setGestureHandlingOptions: function() {\n\t\tvar opts = this._parseGestureHandlingOptions();\n\n\t\t//If user has supplied custom language, use that, otherwise auto set it from the language files\n\t\t(this._isLanguageContent(opts.text) ? Promise.resolve(opts.text) : this._getLanguageContent(opts.locale)).then((content) => {\n\t\t\tthis._map._container.setAttribute(\"data-gesture-handling-touch-content\", content.touch);\n\t\t\tthis._map._container.setAttribute(\"data-gesture-handling-scroll-content\", content.scroll);\n\t\t\tthis._touchWarning = content.touch;\n\t\t\tthis._scrollWarning = content.scroll;\n\t\t});\n\n\t},\n\n\t_getUserLanguage: function() {\n\t\treturn navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage;\n\t},\n\n\t_getLanguageContent: function(lang) {\n\t\t//Determine user language (eg. fr or en-US)\n\t\tlang = lang || this._getUserLanguage() || \"en\";\n\t\tvar resolve, promise = new Promise(_resolve => { resolve = _resolve });\n\t\tvar consume = (m) => {\n\t\t\tvar content = m.default || {};\n\t\t\t//Check if they're on a mac for displaying appropriate command control (âŒ˜ instead of Ctrl)\n\t\t\tcontent.scroll = this._isMacUser() ? content.scrollMac : content.scroll\n\t\t\tresolve(content);\n\t\t};\n\n\t\t//Lookup the appropriate language content\n\t\timport(baseURL + './locales/' + lang + '.js').then(consume)\n\t\t//If no result, try searching by the first part only (eg. en-US, just use en).\n\t\t.catch((e) => import(baseURL + './locales/' + lang.split(\"-\")[0] + '.js').then(consume)\n\t\t\t// If still nothing, default to English.\n\t\t\t.catch((e) => Promise.resolve({default:defaultLocale}).then(consume))\n\t\t);\n\n\t\treturn promise;\n\t},\n\n\t_handleTouch: function(e) {\n\t\t//Disregard touch events on the controls and popups if present\n\t\tvar ignore = L.DomUtil.hasClass(e.target, \"leaflet-interactive\") || e.target.closest('.leaflet-control-container') || e.target.closest('.leaflet-popup-pane');\n\n\t\tif (ignore) {\n\t\t\tif (L.DomUtil.hasClass(e.target, \"leaflet-interactive\") && e.type === \"touchmove\" && e.touches.length === 1) {\n\t\t\t\tthis._enableTouchWarning();\n\t\t\t} else {\n\t\t\t\tthis._disableTouchWarning();\n\t\t\t}\n\t\t} else if (e.type !== \"touchmove\" && e.type !== \"touchstart\") {\n\t\t\tthis._disableTouchWarning();\n\t\t} else if (e.touches.length === 1) {\n\t\t\tthis._enableTouchWarning();\n\t\t} else {\n\t\t\te.preventDefault();\n\t\t\tthis._disableTouchWarning();\n\t\t\tthis._enableInteractions();\n\t\t}\n\t},\n\n\t_enableTouchWarning: function() {\n\t\tthis._enableWarning('touch');\n\t\tthis._disableInteractions();\n\t},\n\n\t_disableTouchWarning: function(delay) {\n\t\tclearTimeout(this._isTouching);\n\t\t// Set a timeout to run after touching ends\n\t\tthis._isTouching = setTimeout(\n\t\t\tL.bind(\n\t\t\t\tfunction() {\n\t\t\t\t\tthis._disableWarning('touch');\n\t\t\t\t\t// this._enableInteractions();\n\t\t\t\t}, this),\n\t\t\tdelay || 0\n\t\t);\n\t},\n\n\t_enableScrollWarning: function() {\n\t\tthis._enableWarning('scroll');\n\t\tthis._disableInteraction('scrollWheelZoom');\n\t},\n\n\t_disableScrollWarning: function(delay) {\n\t\tclearTimeout(this._isScrolling);\n\t\t// Set a timeout to run after scrolling ends\n\t\tthis._isScrolling = setTimeout(\n\t\t\tL.bind(\n\t\t\t\tfunction() {\n\t\t\t\t\tthis._disableWarning('scroll');\n\t\t\t\t\tthis._enableInteraction('scrollWheelZoom');\n\t\t\t\t}, this),\n\t\t\tdelay || 0\n\t\t);\n\t},\n\n\t_handleScroll: function(e) {\n\t\tif (this._map.scrollWheelZoom && this._map.scrollWheelZoom.enabled()) {\n\t\t\tif (e.metaKey || e.ctrlKey || (e.shiftKey && this._map._rotate)) {\n\t\t\t\te.preventDefault();\n\t\t\t\tthis._disableScrollWarning();\n\t\t\t} else {\n\t\t\t\tthis._enableScrollWarning();\n\t\t\t\tthis._disableScrollWarning(this._map.options.gestureHandlingOptions.duration);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleScrollOnPopup: function(e) {\n\t\tL.DomEvent[e.type == 'popupopen' ? 'on' : 'off']\n\t\t(e.popup._contentNode, \"wheel\", this._handleScroll, this);\n\t},\n\n\t_handleMouseOver: function(e) {\n\t\tthis._enableInteractions();\n\t},\n\n\t_handleMouseOut: function(e) {\n\t\tif (!draggingMap) this._disableInteractions();\n\t},\n\n\t_onExitFullscreen: function() {\n\t\tif (this._map.options.gestureHandling)\n\t\t\tthis._map.gestureHandling.enable();\n\t},\n\n\t_onEnterFullscreen: function() {\n\t\tif (this._map.options.gestureHandling)\n\t\t\tthis._map.gestureHandling.disable();\n\t},\n\n});\n\nL.Map.mergeOptions({\n\tgestureHandlingOptions: gestureHandlingOptions\n});\n\nL.Map.addInitHook(\"addHandler\", \"gestureHandling\", GestureHandling);\n"],"names":["defaultLocale","touch","scroll","scrollMac","baseURL","document","currentScript","src","url","location","require","__filename","href","URL","baseURI","split","slice","join","draggingMap","gestureHandlingOptions","text","duration","GestureHandling","L","Handler","extend","_isScrolling","_isTouching","_isFading","addHooks","this","_handleTouch","bind","_setGestureHandlingOptions","_disableInteractions","version","DomEvent","on","_map","_container","addEventListener","_handleScroll","_handleMouseOver","_handleMouseOut","_handleDragging","_handleScrollOnPopup","off","_onEnterFullscreen","_onExitFullscreen","DomUtil","addClass","removeHooks","_enableInteractions","removeEventListener","removeClass","e","type","_disableInteraction","name","options","disable","_enableInteraction","enable","_enableWarning","gesture","clearTimeout","_disableWarning","delay","setTimeout","_isLanguageContent","_isMacUser","navigator","platform","toUpperCase","indexOf","_parseGestureHandlingOptions","gestureHandlingText","gestureHandlingDuration","opts","Promise","resolve","_getLanguageContent","locale","then","content","setAttribute","_touchWarning","_scrollWarning","_getUserLanguage","languages","language","userLanguage","lang","promise","_resolve","consume","m","default","import","catch","hasClass","target","closest","touches","length","_enableTouchWarning","_disableTouchWarning","preventDefault","_enableScrollWarning","_disableScrollWarning","scrollWheelZoom","enabled","metaKey","ctrlKey","shiftKey","_rotate","popup","_contentNode","gestureHandling","Map","mergeOptions","addInitHook"],"mappings":"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"}