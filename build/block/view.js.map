{"version":3,"file":"block/view.js","mappings":"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","sources":["webpack://ootb-openstreetmap/./src/common/createMapboxStyleUrl.js","webpack://ootb-openstreetmap/webpack/bootstrap","webpack://ootb-openstreetmap/webpack/runtime/define property getters","webpack://ootb-openstreetmap/webpack/runtime/hasOwnProperty shorthand","webpack://ootb-openstreetmap/webpack/runtime/make namespace object","webpack://ootb-openstreetmap/./src/block/view.js"],"sourcesContent":["/**\n * Converts Mapbox style URL into a format that Leaflet can use for requesting tiles.\n * @param {string} styleUrl - The Mapbox style URL.\n * @param {string} accessToken - The Mapbox access token.\n * @returns {string} The Leaflet URL.\n */\nexport default function createMapboxStyleUrl(styleUrl, accessToken) {\n\tif (!styleUrl || !accessToken ||\n\t\ttypeof styleUrl !== 'string' ||\n\t\ttypeof accessToken !== 'string' ||\n\t\t!styleUrl.startsWith('mapbox://')) {\n\t\treturn '';\n\t}\n\t// Parse username and style ID from Mapbox URL\n\tconst mapboxUrlParts = styleUrl.split('/');\n\tconst username = mapboxUrlParts[3];\n\tconst styleId = mapboxUrlParts[4];\n\n\tif (!username || !styleId ||\n\t\ttypeof username !== 'string' ||\n\t\ttypeof styleId !== 'string') {\n\t\treturn '';\n\t}\n\n\t// Build Leaflet URL\n\treturn `https://api.mapbox.com/styles/v1/${username}/${styleId}/tiles/{z}/{x}/{y}?access_token=${accessToken}`;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// noinspection NpmUsedModulesInstalled,JSUnresolvedVariable\nimport createMapboxStyleUrl from \"../common/createMapboxStyleUrl.js\";\n\n(function () {\n\t'use strict';\n\n\tconst providers = ootb.providers;\n\tconst options = ootb.options;\n\tconst gestureHandlingOptions = ootb.gestureHandlingOptions;\n\tconst maps = document.querySelectorAll('.ootb-openstreetmap--map');\n\tmaps.forEach(renderMap);\n\n\tfunction renderMap(osmap) {\n\t\tconst provider = osmap.getAttribute('data-provider') || 'openstreetmap';\n\t\tconst escapedMarkers = osmap.getAttribute('data-markers');\n\t\tconst escapedDefaultIcon = osmap.getAttribute('data-marker');\n\t\tconst zoom = osmap.getAttribute('data-zoom');\n\t\tconst minZoom = osmap.getAttribute('data-minzoom');\n\t\tconst maxZoom = osmap.getAttribute('data-maxzoom');\n\t\tconst dragging = osmap.getAttribute('data-dragging');\n\t\tconst touchZoom = osmap.getAttribute('data-touchzoom');\n\t\tconst doubleClickZoom = osmap.getAttribute('data-doubleclickzoom');\n\t\tconst scrollWheelZoom = osmap.getAttribute('data-scrollwheelzoom');\n\t\tconst fullscreen = osmap.getAttribute('data-fullscreen');\n\t\tconst defaultIcon = JSON.parse(decodeURIComponent(escapedDefaultIcon));\n\t\tconst locations = JSON.parse(decodeURIComponent(escapedMarkers));\n\t\tconst mapType = osmap.getAttribute('data-maptype');\n\t\tconst showMarkers = osmap.getAttribute('data-showmarkers');\n\t\tconst escapedShapeStyle = osmap.getAttribute('data-shapestyle');\n\t\tconst shapeStyle = JSON.parse(decodeURIComponent(escapedShapeStyle));\n\t\tconst shapeText = osmap.getAttribute('data-shapetext');\n\t\tconst mapboxstyleAttr = osmap.getAttribute('data-mapboxstyle');\n\t\tlet mapboxstyle = '';\n\t\tif (mapboxstyleAttr) {\n\t\t\tmapboxstyle = mapboxstyleAttr;\n\t\t} else {\n\t\t\tconst mapboxstyleGlobal = createMapboxStyleUrl(options.global_mapbox_style_url, options.api_mapbox);\n\t\t\tif (mapboxstyleGlobal) {\n\t\t\t\tmapboxstyle = encodeURIComponent(JSON.stringify(mapboxstyleGlobal));\n\t\t\t}\n\t\t}\n\n\t\tlet apiKey = '';\n\t\tif ('mapbox' === provider) {\n\t\t\tapiKey = options.api_mapbox;\n\t\t}\n\n\t\tlet providerUrl = providers[provider].url;\n\t\tif ('mapbox' === provider && mapboxstyle) {\n\t\t\tproviderUrl = JSON.parse(decodeURIComponent(mapboxstyle));\n\t\t} else {\n\t\t\tproviderUrl += apiKey;\n\t\t}\n\n\t\tconst mapOptions = {\n\t\t\tminZoom: parseInt(minZoom),\n\t\t\tmaxZoom: parseInt(maxZoom),\n\t\t};\n\n\t\tif (options.prevent_default_gestures) {\n\t\t\tmapOptions.gestureHandling = true;\n\t\t\tif (gestureHandlingOptions && Object.keys(gestureHandlingOptions).length > 0) {\n\t\t\t\tmapOptions.gestureHandlingOptions = gestureHandlingOptions;\n\t\t\t}\n\t\t}\n\n\t\tconst map = initializeMapView(osmap, mapOptions, zoom, locations, escapedDefaultIcon);\n\n\t\t// Set the rest of the map options\n\t\tif ('false' === dragging) {\n\t\t\tmap.dragging.disable();\n\t\t}\n\t\tif ('false' === touchZoom) {\n\t\t\tmap.touchZoom.disable();\n\t\t}\n\t\tif ('false' === doubleClickZoom) {\n\t\t\tmap.doubleClickZoom.disable();\n\t\t}\n\t\tif ('false' === scrollWheelZoom) {\n\t\t\tmap.scrollWheelZoom.disable();\n\t\t}\n\t\tif ('true' === fullscreen && L.Control.FullScreen) {\n\t\t\tmap.addControl(new L.Control.Fullscreen());\n\t\t}\n\n\t\tL.tileLayer(providerUrl, {\n\t\t\tattribution: providers[provider].attribution\n\t\t}).addTo(map);\n\n\t\tif (!locations || !locations.length) return; // If there are no locations, don't go any further\n\n\t\tif ('polygon' === mapType) {\n\t\t\tconst polygon = L.polygon(locations, shapeStyle).addTo(map);\n\t\t\tmap.fitBounds(polygon.getBounds());\n\t\t\tif (shapeText.length) {\n\t\t\t\tpolygon.bindPopup(shapeText);\n\t\t\t}\n\t\t} else if ('polyline' === mapType) {\n\t\t\tconst polyline = L.polyline(locations, shapeStyle).addTo(map);\n\t\t\tmap.fitBounds(polyline.getBounds());\n\t\t\tif (shapeText.length) {\n\t\t\t\tpolyline.bindPopup(shapeText);\n\t\t\t}\n\t\t}\n\n\t\tif ('false' !== showMarkers) {\n\t\t\t// Render the locations\n\t\t\tlocations.forEach(renderLocation);\n\t\t}\n\n\t\t// Render a location's marker\n\t\tfunction renderLocation(location) {\n\t\t\tconst markerIcon = structuredClone(defaultIcon);\n\t\t\tif (location.icon) {\n\t\t\t\tmarkerIcon.iconUrl = location.icon.url;\n\t\t\t}\n\t\t\tlet marker = L.marker([location.lat, location.lng], {\n\t\t\t\ticon: L.icon(markerIcon),\n\t\t\t});\n\t\t\tif (location.text) {\n\t\t\t\tmarker.bindPopup(location.text);\n\t\t\t}\n\t\t\tmarker.addTo(map);\n\t\t}\n\t}\n\n\tfunction initializeMapView(osmap, mapOptions, zoom, locations, defaultIconString) {\n\t\tconst map = L.map(osmap, mapOptions);\n\t\tconst boundsCheck = JSON.parse(osmap.getAttribute('data-bounds'));\n\n\t\tif (boundsCheck[0] !== null && boundsCheck[1] !== null) {\n\t\t\tmap.setView(boundsCheck, parseInt(zoom));\n\t\t} else {\n\t\t\tlet markers = [];\n\t\t\tlocations.forEach(location => {\n\t\t\t\tconst defaultIcon = JSON.parse(decodeURIComponent(defaultIconString));\n\t\t\t\tconst markerIcon = structuredClone(defaultIcon);\n\t\t\t\tif (location.icon) {\n\t\t\t\t\tmarkerIcon.iconUrl = location.icon.url;\n\t\t\t\t}\n\t\t\t\tlet marker = L.marker([location.lat, location.lng], {icon: L.icon(markerIcon)});\n\t\t\t\tif (location.text) {\n\t\t\t\t\tmarker.bindPopup(location.text);\n\t\t\t\t}\n\t\t\t\tmarkers.push(marker);\n\t\t\t\tmarker.addTo(map);\n\t\t\t});\n\n\t\t\t// Use markers to calculate bounds.\n\t\t\tif (markers.length) {\n\t\t\t\t// Create a new feature group.\n\t\t\t\tlet group = new L.featureGroup(markers);\n\t\t\t\t// Adjust the map to show all markers.\n\t\t\t\tmap.fitBounds(group.getBounds());\n\t\t\t}\n\t\t}\n\t\treturn map;\n\t}\n})();\n"],"names":["createMapboxStyleUrl","styleUrl","accessToken","startsWith","mapboxUrlParts","split","username","styleId","providers","ootb","options","gestureHandlingOptions","maps","document","querySelectorAll","forEach","renderMap","osmap","provider","getAttribute","escapedMarkers","escapedDefaultIcon","zoom","minZoom","maxZoom","dragging","touchZoom","doubleClickZoom","scrollWheelZoom","fullscreen","defaultIcon","JSON","parse","decodeURIComponent","locations","mapType","showMarkers","escapedShapeStyle","shapeStyle","shapeText","mapboxstyleAttr","mapboxstyle","mapboxstyleGlobal","global_mapbox_style_url","api_mapbox","encodeURIComponent","stringify","apiKey","providerUrl","url","mapOptions","parseInt","prevent_default_gestures","gestureHandling","Object","keys","length","map","initializeMapView","disable","L","Control","FullScreen","addControl","Fullscreen","tileLayer","attribution","addTo","polygon","fitBounds","getBounds","bindPopup","polyline","renderLocation","location","markerIcon","structuredClone","icon","iconUrl","marker","lat","lng","text","defaultIconString","boundsCheck","setView","markers","push","group","featureGroup"],"ignoreList":[],"sourceRoot":""}